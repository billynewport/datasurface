# August 2025

## 2025/08/01

I have made good progress on componentizing the kubernetes services yaml now in the Yellow PSP. I have 2 YellowDataPlatforms in the yellow starter project. One is LIVE and the other is MILESTONED. They both need a "stack" thats common to host the airflow and merge database. I'd like the ability to change the stack to be outside the YellowDataPlatform instances, 2 database or 2 databases, the namespace, nothing to do with them really. It's the PSP which is the common stack. However, ideally even the PSP I have now is not abstract enough to be a generic kubernetes environment to build the BlueDataPlatform which may be kubernetes based but completely different from Yellow, it might have an different job scheduler, it might run in minio for s3 compatible storage and a SQL database on top of S3. But, I don't want to have to redo all the kubernetes stuff when I need to do this.

Assembly and Component are basically a jinja template assembly framework and not kubernetes specific. I have the different Components for name spaces, postgres, airflow, logging and so on which can be reused. Maybe this is enough?

Working through the ripple on this, it's big. Always a lift...

Ok, it's working again. Like I said, big ripple for this but it's a big improvement in the area of making the kubernetes yaml stuff much more usable for different stacks. Lot of secret consistency issues fixed.

The YellowPlatformServiceProvider with YellowDataPlatform is now the Yellow stack. There is also an Assembly and Component classes which are used to assemble the components needed to run the Yellow stack. I have 2 assemblies, one with the postgres database shared between Airflow and the merge engine and another with them in seperate databases.

### Take a knee

So, where am I now? I have a working Yellow stack. It's easier to create other stacks also thanks to the assembly and component classes. I can demonstrate changing the model and the running Yellow stack will automatically update when the merge handler is called.

Short term goals:

* Allow postgres to specify a storage capacity.
* NFS container to hold the git clone cache for all the jobs
* Test Yellow with a larger model. 50 source databases, 200 datasets per source database and a 100 consumer Workspaces. This would be 50 ingestion streams. Not that big of a test when I think about it. It would be 4k tables in the merge database, staging+merge per dataset.
* Add extra supported ingestions. I just have SQL snapshot for now. I need maybe:
  * Ingest CSV from S3 (minio)
  * Incremental SQL ingestion
  * Ingest data from a JSON API.
* Scripted test to show a system evolving over time and making sure Yellow works as expected.
* Make Datasurface a MCP service.
* AI based operators watching Yellow's operational state and taking action.
* Cut a V1.0 release soon. Decide on which of the above are important enough to include. Maybe what I already have is enough for V1.0 except for the NFS and storage size tasks.
